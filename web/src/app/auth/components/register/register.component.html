<div class="register-container">
    <div class="register-card">
        <div class="register-header">
            <h2>Create Account</h2>
            <p>Join our platform today</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <div class="form-field">
                <label for="username">Username</label>
                <input id="username" type="text" pInputText formControlName="username" placeholder="Enter your username" [class.ng-invalid]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" />
                <small class="error-message" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
          <span *ngIf="registerForm.get('username')?.errors?.['required']">Username is required</span>
          <span *ngIf="registerForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters</span>
        </small>
            </div>

            <div class="form-field">
                <label for="email">Email</label>
                <input id="email" type="email" pInputText formControlName="email" placeholder="Enter your email" [class.ng-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" />
                <small class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
          <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">Please enter a valid email</span>
        </small>
            </div>

            <div class="form-field">
                <label for="password">Password</label>
                <p-password id="password" formControlName="password" placeholder="Enter your password" [toggleMask]="true" [class.ng-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"></p-password>
                <small class="error-message" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
          <span *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</span>
          <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
        </small>
            </div>

            <div class="form-field">
                <label for="confirmPassword">Confirm Password</label>
                <p-password id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm your password" [toggleMask]="true" [class.ng-invalid]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"></p-password>
                <small class="error-message" *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
          <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Please confirm your password</span>
        </small>
            </div>

            <div class="form-field" *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched">
                <small class="error-message">Passwords do not match</small>
            </div>

            <div class="form-actions">
                <p-button type="submit" label="Create Account" [loading]="loading" [disabled]="registerForm.invalid || loading" styleClass="w-full"></p-button>
            </div>

            <div class="form-footer">
                <p>Already have an account?
                    <a routerLink="/auth/login" class="link">Sign in</a>
                </p>
            </div>
        </form>
    </div>
</div>
